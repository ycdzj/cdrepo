> This repository is generated by ChatGPT.

# cdrepo Zsh Plugin

## Overview

`cdrepo` is a Zsh plugin that simplifies the process of navigating to Git repositories based on their URLs. This plugin ensures that the specified repositories are cloned into a designated directory (`CDREPO_DIR`) if they are not already present, and then changes the current directory to the repository's local path.

## Usage

Before using the `cdrepo` function, ensure that the `CDREPO_DIR` environment variable is set to the desired directory where repositories should be cloned. You can set this variable in your `.zshrc` file:

```sh
CDREPO_DIR=~/my_repos
```

### Commands

- **cdrepo \<repo_url\>**

  Changes the directory to the local path of the specified Git repository URL. If the repository is not already cloned, it will be cloned into `${CDREPO_DIR}/<host>/<path-to-repo>`.

## Example Workflow

1. Set the `CDREPO_DIR` environment variable:

   ```sh
   CDREPO_DIR=~/my_repos
   ```

2. Use the `cdrepo` function to navigate to a repository:

   ```sh
   cdrepo https://github.com/user/repo.git
   ```

   - If the repository is not already cloned, it will be cloned into `~/my_repos/github.com/user/repo`.
   - The current directory will be changed to `~/my_repos/github.com/user/repo`.

## Installation

### Oh My Zsh

1. Clone the repository to your local machine:

   ```sh
   git clone https://github.com/ycdzj/cdrepo.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/cdrepo
   ```

2. Add `cdrepo` to your list of plugins in the `.zshrc` file:

   ```sh
   plugins=([plugins...] cdrepo)
   ```

3. Source your `.zshrc` file to apply the changes:

   ```sh
   source ~/.zshrc
   ```

### Antigen

1. Add the following line to your `.zshrc` file:

   ```sh
   antigen bundle ycdzj/cdrepo
   ```

2. Source your `.zshrc` file to apply the changes:

   ```sh
   source ~/.zshrc
   ```

## Git URL Format

The `cdrepo` plugin supports two formats for Git repository URLs:

1. **Protocol-based URL:**

   ```
   <protocol>://[<user>@]<host>[:<port>]/<path-to-git-repo>
   ```

   - Examples:
     - `https://github.com/user/repo.git`
     - `ssh://git@github.com/user/repo.git`

2. **SCP-like URL:**

   ```
   [<user>@]<host>[:<port>]:<path-to-git-repo>
   ```

   - Examples:
     - `git@github.com:user/repo.git`
     - `user@server:repo.git`

## Local Path Composition

The local path where the repository will be cloned is composed as follows:

```
<CDREPO_DIR>/<host>/<path-to-repo>
```

- `<CDREPO_DIR>`: The base directory set by the user where repositories should be cloned.
- `<host>`: The hostname extracted from the repository URL.
- `<path-to-repo>`: The path to the repository, derived from the URL without the `.git` suffix.

**Example:**

For the URL `https://github.com/user/repo.git` and `CDREPO_DIR` set to `~/my_repos`, the local path will be:

```
~/my_repos/github.com/user/repo
```

## Contributing

Contributions are welcome! Please fork the repository and submit a pull request with your changes.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

---

With this plugin, managing and navigating to Git repositories becomes a breeze. Set your `CDREPO_DIR`, and let `cdrepo` handle the rest!

